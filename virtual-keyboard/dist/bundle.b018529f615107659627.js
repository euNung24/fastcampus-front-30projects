!function(){"use strict";new(function(){function e(){this.koreanRegExp=/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/,this.language="english",this.isShiftPress=!1,this.keyDown=!1,this.mouseDown=!1,this.setElements(),this.setEvents()}return e.prototype.setElements=function(){this.$container=document.querySelector(".container"),this.$switchThemeEl=this.$container.querySelector("[name='theme']"),this.$fontSelectEl=this.$container.querySelector("[name='font']"),this.$keyboardEl=this.$container.querySelector(".keyboardBox"),this.$inputEl=this.$container.querySelector("[name=value]"),this.$errorEl=this.$container.querySelector(".message")},e.prototype.setEvents=function(){this.$switchThemeEl.addEventListener("change",this.onChangeTheme),this.$fontSelectEl.addEventListener("change",this.onChangeFont),document.addEventListener("keydown",this.onKeyDown.bind(this)),document.addEventListener("keyup",this.onKeyUp.bind(this)),this.$keyboardEl.addEventListener("mousedown",this.onMouseDown.bind(this)),document.addEventListener("mouseup",this.onMouseUp.bind(this))},e.prototype.onChangeTheme=function(e){document.documentElement.setAttribute("theme",e.target.checked?"dark-mode":"")},e.prototype.onChangeFont=function(e){document.body.style.fontFamily=e.target.value},e.prototype.changeLanguage=function(){this.language="english"===this.language?"korean":"english",this.$keyboardEl.setAttribute("data-type",this.language)},e.prototype.changeType=function(){this.isShiftPress=!this.isShiftPress,this.$keyboardEl.setAttribute("data-type","".concat(this.language).concat(this.isShiftPress?"-shift":""))},e.prototype.onKeyDown=function(e){var t;this.mouseDown||(this.keyDown=!0,null==(t='"'===e.key?this.$keyboardEl.querySelector("[data-key='\"']"):"\\"===e.key?this.$keyboardEl.querySelector('[data-key=""]'):this.$keyboardEl.querySelector('[data-key="'.concat(e.key,'"]'))||this.$keyboardEl.querySelector('[data-key="'.concat(e.code,'"]')))||t.closest(".keyBox").classList.add("active"),e.key.includes("Shift")?this.changeType():"CapsLock"===e.key?this.changeLanguage():e.key.includes("Backspace")?this.$inputEl.value=this.$inputEl.value.slice(0,-1):e.key.includes("Space")?this.$inputEl.value+=" ":t&&(this.$inputEl.value+=t.dataset.key.replace(this.koreanRegExp,"")),this.$errorEl.classList.toggle("error",this.koreanRegExp.test(e.key)||Boolean(!t)))},e.prototype.onKeyUp=function(e){if(!this.mouseDown){this.keyDown=!1;var t=this.$keyboardEl.querySelector('[data-key="'.concat(e.key,'"]'))||this.$keyboardEl.querySelector('[data-key="'.concat(e.code,'"]'));null==t||t.closest(".keyBox").classList.remove("active")}},e.prototype.onMouseDown=function(e){var t,s;if(!this.keyDown){this.mouseDown=!0;var n=e.target;if("CapsLock"!==n.dataset.key)if(null===(t=n.dataset.key)||void 0===t?void 0:t.includes("Shift"))this.changeType();else if(null===(s=n.dataset.key)||void 0===s?void 0:s.includes("Back"))this.$inputEl.value=this.$inputEl.value.slice(0,-1);else{var o=n.closest(".keyBox");null==o||o.classList.add("active");var i=this.$keyboardEl.dataset.type,a=null==o?void 0:o.querySelector("[data-type=".concat(i,"]"));a?this.$inputEl.value+=a.dataset.key.replace(this.koreanRegExp,""):o&&(this.$inputEl.value+=n.dataset.key),this.$errorEl.classList.toggle("error",this.koreanRegExp.test(n.dataset.key)||Boolean(!a))}else this.changeLanguage()}},e.prototype.onMouseUp=function(e){this.keyDown||(this.mouseDown=!1,this.$keyboardEl.querySelector(".active").classList.remove("active"))},e}())}();
//# sourceMappingURL=bundle.b018529f615107659627.js.map